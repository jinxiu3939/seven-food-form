<form *ngIf="form"
      [formGroup]="form"
      [nbSpinner]="loading"
      nbSpinnerStatus="info">
  <div *ngIf="complete" class="row">
    <ng-container [ngSwitch]="level">
      <sff-two-layout *ngSwitchCase="2"
                      class="col-{{ setting.bodyWidth }}"
                      [ngClass]="{'block-fold': !formExpand}"
                      [models]="modelsTree"
                      [form]="form"
                      [setting]="setting"
                      [reload]="reload">
      </sff-two-layout>
      <sff-one-layout *ngSwitchCase="1"
                      class="col-{{ setting.bodyWidth }}"
                      [ngClass]="{'block-fold': !formExpand}"
                      [models]="modelsTree"
                      [form]="form"
                      [setting]="setting"
                      [reload]="reload">
      </sff-one-layout>
      <sff-form-block *ngSwitchDefault class="row col-{{ setting.bodyWidth }}"
                      [ngClass]="{'block-fold': !formExpand}"
                      [models]="modelsTree"
                      [form]="form"
                      [reload]="reload"
                      [validate]="setting.validate"
                      [width]="setting.width"
                      [size]="setting.size">
      </sff-form-block>
    </ng-container>
    <ng-content select="[name='other-models']"></ng-content>
    <sff-form-button class="col-{{ setting.buttonWidth }} operation-{{ setting.buttonPosition }}"
                     [ngClass]="{'operation-fixed': setting.buttonFixed}"
                     [nbSpinner]="loading"
                     [form]="form"
                     [hideSubmit]="setting.hideSubmit"
                     [hideReset]="setting.hideReset"
                     [submitText]="setting.submitText"
                     [resetText]="setting.resetText"
                     [validate]="setting.validate"
                     [showFold]="setting.foldBody"
                     [buttons]="setting.buttons"
                     [align]="setting.buttonAlign"
                     (submit)="onSubmit($event)"
                     (reset)="onReset($event)"
                     (operate)="onOperate($event)"
                     (fold)="foldBody($event)">
    </sff-form-button>
  </div>
</form>